!! options
version=2
!! end

!! article
Apple
!! text
Apple
!! endarticle

!! article
Apricot
!! text
Apricot
!! endarticle

!! article
Banana
!! text
Banana
!! endarticle

!! article
Grape
!! text
Grape
!! endarticle

!! article
Mango
!! text
Mango
!! endarticle

!! article
Orange
!! text
Orange
!! endarticle

!! article
Pear
!! text
Pear
!! endarticle

!! article
Plum
!! text
Plum
!! endarticle

!! test
titlematch: include specific pages
!! wikitext
<dpl>
namespace = main
ordermethod = title
titlematch = Apple|Apricot¦Banana
format = ,%TITLE%,;,
</dpl>
!! html
<p>Apple;Apricot;Banana;
</p>
!! end

!! test
titlematch: include using SQL wildcard patterns
!! wikitext
<dpl>
namespace = main
ordermethod = title
titlematch = A%|P%
format = ,%TITLE%,;,
</dpl>
!! html
<p>Apple;Apricot;Pear;Plum;
</p>
!! end

!! test
titlematch: single-character wildcard ([_])
!! wikitext
<dpl>
namespace = main
ordermethod = title
titlematch = P[_][_][_]
format = ,%TITLE%,;,
</dpl>
!! html
<p>Pear;Plum;
</p>
!! end

!! test
titlematch: single-character wildcard with fixed prefix
!! wikitext
<dpl>
namespace = main
ordermethod = title
titlematch = G[_][_][_][_]
format = ,%TITLE%,;,
</dpl>
!! html
<p>Grape;
</p>
!! end

!! test
titlematch: mixed % and [_] wildcard
!! wikitext
<dpl>
namespace = main
ordermethod = title
titlematch = [_]p%e
format = ,%TITLE%,;,
</dpl>
!! html
<p>Apple;
</p>
!! end

!! test
nottitlematch: exclude specific pages
!! wikitext
<dpl>
namespace = main
ordermethod = title
nottitlematch = Apple|Apricot¦Banana
format = ,%TITLE%,;,
</dpl>
!! html
<p>Grape;Mango;Orange;Pear;Plum;
</p>
!! end

!! test
nottitlematch: exclude using SQL wildcard patterns
!! wikitext
<dpl>
namespace = main
ordermethod = title
nottitlematch = A%|P%
format = ,%TITLE%,;,
</dpl>
!! html
<p>Banana;Grape;Mango;Orange;
</p>
!! end

!! test
nottitlematch: single-character wildcard ([_])
!! wikitext
<dpl>
namespace = main
ordermethod = title
nottitlematch = [_]range
format = ,%TITLE%,;,
</dpl>
!! html
<p>Apple;Apricot;Banana;Grape;Mango;Pear;Plum;
</p>
!! end

!! test
nottitlematch: mixed % and [_] wildcard
!! wikitext
<dpl>
namespace = main
ordermethod = title
nottitlematch = %a[_]g%
format = ,%TITLE%,;,
</dpl>
!! html
<p>Apple;Apricot;Banana;Grape;Pear;Plum;
</p>
!! end
